1. å…¨å±åº“ï¼šscreenfull
2. æ—¥æœŸã€æ—¶é—´åº“ï¼šdayjs
3. immeråº“ï¼šè®©Reactå¯¹ä¸å¯å˜æ•°æ®ç»“æ„è¿›è¡Œæ·±åº¦æ¯”è¾ƒ(ç”±äºReactå¯¹çŠ¶æ€æ›´æ–°åªåšæµ…æ¯”è¾ƒï¼Œéœ€è¦å½»åº•æ›´æ”¹å¯¹è±¡çš„å¼•ç”¨æ‰èƒ½è§¦å‘Reacté‡æ–°render)   ----------  <Category />
4. jsonpè·¨åŸŸåº“ï¼šjsonp   ------------  ç”±äºè·å–å¤©æ°”apiéœ€è¦è·¨åŸŸ  ------- reactå¯ä»¥é…å¤šä¸ªproxyï¼Œä½†æ¯”è¾ƒéº»çƒ¦(Vueç®€å•)
5. ä¸ºä»€ä¹ˆgetTitleéœ€è¦ä»urlä¸Šæ¥å–ï¼Œè€Œä¸æ˜¯åˆ©ç”¨reduxæˆ–è€…ä»ä¾§è¾¹æ ç»„ä»¶ä¼ çŠ¶æ€ ï¼Ÿ--------- ä¸ºäº†é˜²æ­¢ç”¨æˆ·ä¸­é€”åˆ·æ–°çš„bugï¼Œåˆ·æ–°å reduxå­˜å‚¨çš„æ•°æ®éƒ½ä¸åœ¨äº†
6. react-router-domV6 é»˜è®¤ä¸¥æ ¼åŒ¹é…ï¼ˆé»˜è®¤åŒ¹é…å®Œæ•´è·¯å¾„ï¼‰
7. react-router-domV6ï¼š redirectåºŸå¼ƒ -----------  <Navigate/>ä»£æ›¿

```javascript
<Route path='*' element={<Navigate to='home' />} />
```

6. react-router-domV6ï¼šç¼–ç¨‹å¼å¯¼èˆªè·³è½¬

åœ¨V5ä¸­ï¼Œå¯ä»¥é€šè¿‡withRouteråŒ…è£¹æˆè·¯ç”±ç»„ä»¶ï¼Œå¯ä»¥æ‹¿åˆ°historyå¯¹è±¡ç­‰ï¼Œä½†åœ¨V6ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨äº†useNavigateä»£æ›¿withRouterï¼Œå½“éœ€è¦è·¯ç”±è·³è½¬æ—¶ï¼Œå¯ä»¥æ›´å¿«æ·çš„ä½¿ç”¨

```javascript
const navigate = useNavigate()
navigate(url)
```

7. RouterV6ï¼šuseParams

å‚æ•°è·¯ç”±ï¼Œé€šè¿‡useParamsæ‹¿åˆ°å‚æ•°

```javascript
Adminï¼š
<Route path='prod_about/product/detail/:id' element={<Detail />} />  //:idå ä½ç¬¦ï¼Œå…ˆå ä½
    
Detailï¼š
const params = useParams()
console.log(params)   //id:xxxxxxx
```

8. RouterV6ï¼šuseLocation

```javascript
const location = useLocation()
location.pathname ä¼šéšç€urlçš„å˜åŒ–è€Œå˜åŒ–ï¼Œæ¢è¨€ä¹‹ å°±æ˜¯å¯ä»¥æ—¶åˆ»ç›‘æµ‹urlçš„å˜åŒ–
å¯ä»¥ç”¨åœ¨ç›‘æµ‹urlçš„å˜åŒ–æ¥æ”¹å˜Title
```

9. POSTè¯·æ±‚å¦‚ä½•æºå¸¦urlencodedç¼–ç æ ¼å¼å‚æ•° ------  (é»˜è®¤JSONæ ¼å¼)

```javascript
import qs from 'querystring'   //Reactå†…ç½®åº“
qs.stringfy([object])
```

10. RouterV6ï¼šuseNavigate() åº”è¯¥ç”±ç”¨æˆ·æ“ä½œæˆ–useEffectæŒ‚é’©è§¦å‘ã€‚

è€Œæˆ‘åœ¨é¡¹ç›®ä¸­<Admin/>ç»„ä»¶é‡Œï¼Œå¼€å§‹å°±åˆ¤æ–­isLoginå†åˆåˆ¤æ–­è§¦å‘navigateï¼Œæ˜¯ä¸è¡Œçš„ï¼

11. ç¼–ç¨‹å¯¼èˆªè·³è½¬

- JSXä¸­ï¼š<Navigate />
- Jsä»£ç ä¸­ï¼šuseNavigate()

12. è¿›åº¦æ¡åº“ï¼šnprogress

```javascript
import NProgress from "nprogress";
import 'nprogress/nprogress.css'

è¯·æ±‚æ‹¦æˆªï¼šNProgress.start()
å“åº”æ‹¦æˆªï¼šNProgress.done()
```

13. [npm: husky](https://www.npmjs.com/package/husky)
13. [GitHub - conventional-changelog/commitlint: ğŸ““ Lint commit messages](https://github.com/conventional-changelog/commitlint) 
13. [eslint-config-airbnb](https://www.npmjs.com/package/eslint-config-airbnb#eslint-config-airbnbhooks)
13. Axiosçš„getè¯·æ±‚æ ¼å¼ï¼š

```javascript
axios.get('/user', {
	params: {
	    ID: 12345
	}
})
//è¦å¸¦paramså…³é”®è¯å•Šï¼ï¼ï¼
```

14. Redux Hooks

å¦‚ä½•ç”¨useSelector( )å’ŒuseDispatch( )ä»£æ›¿connectï¼š

- useSelector

```javascript
const num = useSelector(state=> state.num)
```

**é€šè¿‡ä¼ å…¥ selector å‡½æ•°ï¼Œä½ å°±å¯ä»¥ä» Redux çš„ store ä¸­è·å– çŠ¶æ€(state) æ•°æ®ã€‚**

- useDispatch

```javascript
const dispatch = useDispatch(action) 
```

```javascript
const dispatch = useDispatch(action(data))   //è‹¥æ˜¯å¤–éƒ¨å¼•å…¥actionï¼Œè®°å¾—è°ƒç”¨å“¦~
```



15. æ»šåŠ¨åŠ è½½åˆ—è¡¨

(æ–¹å¼ä¸€)

https://www.bilibili.com/video/BV1U3411B7eb?spm_id_from=333.337.search-card.all.click&vd_source=11539dc0361400ec58af21f1e470fb03

ï¼ˆæ–¹å¼äºŒï¼‰  --------->  æ¯”è¾ƒå¥½

åœ¨æˆ‘çš„é¡¹ç›®scr/productList æ–‡ä»¶å¤¹ä¸­



16. Reactæ‰‹å†™æ¨¡æ€æ¡†

https://www.gxlcms.com/JavaScript-62821.html

React createPortal() ï¼š

- Portal å°†æä¾›ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ° DOM èŠ‚ç‚¹ä¸­çš„æ–¹å¼ï¼Œè¯¥èŠ‚ç‚¹å­˜åœ¨äº DOM ç»„ä»¶çš„å±‚æ¬¡ç»“æ„ä¹‹å¤–ã€‚
- å› æ­¤ Portals é€‚åˆè„±ç¦»æ–‡æ¡£æµ(out of flow) çš„ç»„ä»¶ï¼Œç‰¹åˆ«æ˜¯ position: absolute ä¸ position: fixedçš„ç»„ä»¶ã€‚æ¯”å¦‚æ¨¡æ€æ¡†ï¼Œé€šçŸ¥ï¼Œè­¦å‘Šï¼ŒgoTop ç­‰



styled-componentsä»‹ç»ä¸ä½¿ç”¨

https://zhuanlan.zhihu.com/p/436362428



å¦‚ä½•å®ç°ï¼šmodalæ¡†onbluræ—¶å…³é—­

æ€è·¯ï¼šç›´æ¥åœ¨ `button` ä¸Šæ³¨å†Œä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼ŒåŒæ—¶åœ¨ `document.body` æ³¨å†Œä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œç„¶ååœ¨ `å¼¹çª—container` é‡Œé˜»æ­¢å†’æ³¡

```javascript
//ä¸å¤ªå¥½
componentDidMountï¼šç»™docoment.bodyç»‘å®šç‚¹å‡»äº‹ä»¶
modal containerï¼šç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå¹¶é˜»æ­¢å†’æ³¡
componentWillUnmountï¼šæ¸…é™¤docoment.bodyç‚¹å‡»äº‹ä»¶

//æ¯”è¾ƒå¥½
modal container(100% Ã— 100%ï¼Œå¹¶ä¸”backgroundè°ƒé€æ˜):ç»‘å®šç‚¹å‡»ç‚¹å‡»äº‹ä»¶
modal content:ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå¹¶é˜»æ­¢å†’æ³¡
componentWillUnmountï¼šæ¸…é™¤docoment.bodyç‚¹å‡»äº‹ä»¶
```



### redux toolkit

https://juejin.cn/post/7101688098781659172













### é¡¹ç›®é‡åˆ°çš„é—®é¢˜ï¼š

#### 8.8ï¼š

â‘ é€’å½’æ¸²æŸ“siderï¼š

ç”±äºantD Menuç»„ä»¶4.2çš„å‡çº§ï¼Œä¸å†æ˜¯ä»¥<Menu items={[...]} />ç»„ä»¶å½¢å¼æ‹¼æ¥JSXï¼›è€Œæ˜¯é€šè¿‡è°ƒç”¨getItemæ–¹æ³•è¿”å›å¯¹è±¡ï¼Œæ·»åŠ Menuå±æ€§itemsçš„å½¢å¼è‡ªåŠ¨æ¸²æŸ“åˆ—è¡¨ã€‚å› æ­¤å°±ä¸èƒ½å¦‚åŸæ¥ä¸€æ ·é€šè¿‡mapæ–¹æ³•é€’å½’æ¸²æŸ“JSXï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡reduceæ–¹æ³•å¾—åˆ°Menuæœ€ç»ˆå±æ€§ ------- items

```javascript
let getList = (menuList)=>{
    return menuList.reduce((pre, cur) => {
        if (!cur.children) {
            let resItem = getItem(cur.title, cur.key, cur.icon)
            return [...pre, resItem]
        } else {
            let resItem = getItem(cur.title, cur.key, cur.icon, 
                getList(cur.children)
            )
            return [...pre, resItem]
        }
    }, [])
}

const items = getList(menuList)  //[{...},{...}]
```

æ€è·¯ï¼šä¸èƒ½åƒä»¥å‰é‚£æ ·ç›´æ¥åœ¨JSXæ¨¡æ¿é‚£é€šè¿‡mapæ–¹æ³•æ¸²æŸ“æ­£ç¡®çš„JSXåˆ—è¡¨  ----->  ç”±äºæ–°ç‰ˆantD Menuæ¥å—ä¸€ä¸ªæ•°ç»„æ¥è‡ªåŠ¨æ¸²æŸ“åˆ—è¡¨  ------->  ç”Ÿæˆé‚£ä¸ªæ•°ç»„  ------->  å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„éå†æ–¹æ³•ï¼šmap(ä¸åˆé€‚)ï¼Œfilter(ä¸åˆé€‚)ï¼Œé€šè¿‡å‰åå€¼æ¥è·å¾—æœ€ç»ˆå€¼çš„æ–¹æ³• â€”â€” reduce

â‘¡ç”±äºantD4.2 æ²¡æœ‰JSXçš„<Menu item/>ï¼Œæ— æ³•ä»¥å£°æ˜å¼å¯¼èˆªçš„å½¢å¼ç»‘å®šLInkï¼Œä½†æ˜¯æœ€åå‘ç°Menuç»„ä»¶èº«ä¸ŠonClickå±æ€§ï¼Œå®ƒå¯ä»¥åœ¨ç‚¹å‡»Itemæ—¶è°ƒç”¨ï¼Œå¯ä»¥æ‹¿åˆ°ç›¸åº”çš„keyå€¼ï¼Œè¿™æ—¶å€™å°±å¯ä»¥é€šè¿‡React-routerV6çš„useNavigateæ¥å®ç°ç¼–ç¨‹å¯¼èˆªè·³è½¬äº†ã€‚

#### 8.10ï¼š

AntDé—®é¢˜ï¼š

è¦ä½¿ç”¨FormInstanceèº«ä¸Šçš„`resetFields`æ–¹æ³•æ¥é‡ç½®è¡¨å•ï¼Œé€šè¿‡antDæœ¬èº«æä¾›çš„è·å–FormInstanceæ–¹æ³•å¹¶æ²¡æœ‰æˆåŠŸï¼Œè€Œä¸”æŠ¥é”™äº†(å½“åœ¨<modal/>ä¸­åµŒå¥—<form/>æƒ…å†µä¸‹ï¼šè°ƒç”¨ form æ–¹æ³•æ—¶ï¼ŒModal è¿˜æœªåˆå§‹åŒ–å¯¼è‡´ form æ²¡æœ‰å…³è”ä»»ä½• Form ç»„ä»¶)ã€‚

è§£å†³æ–¹æ³•ï¼šé€šè¿‡refæ ‡è®°Formæ‹¿åˆ°FormInstance

### 8.16

AntDé—®é¢˜ï¼š

Modalæ¡†é‡ŒåµŒå¥—Formæ—¶ï¼Œå›æ˜¾æ•°æ®æ€»æ˜¯ä¸Šä¸€ä¸ªå€¼

åŸå› ï¼šFormåˆå§‹åŒ–å€¼åœ¨ç¬¬ä¸€æ¬¡æœ‰æ•ˆï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºFormåœ¨å¤šæ¬¡æ‰“å¼€Modalçš„å·¥ç¨‹ä¸­å°±ç¬¬ä¸€æ¬¡æœ‰åˆå§‹åŒ–åŠ¨ä½œã€‚

ä¿®æ”¹æ€è·¯ï¼šå¯ä»¥åœ¨Modalå…³é—­æ—¶é”€æ¯Formï¼Œä½¿Formæ¯æ¬¡éƒ½åœ¨Modalæ‰“å¼€æ—¶éƒ½é‡æ–°åˆå§‹åŒ–

ä¿®æ”¹æ–¹æ³•ï¼šè¿™æ˜¯å› ä¸º`<Modal>`éšè—æ˜¾ç¤ºæ—¶æ²¡æœ‰é”€æ¯ Modal é‡Œçš„å­å…ƒç´ UserFormï¼Œå¯¼è‡´éƒ½æ¯æ¬¡è¯»å–ä¸Šæ¬¡çš„å€¼ã€‚è§£å†³æ–¹æ³•å°±å¾ˆç®€å•äº†ï¼Œåœ¨ Modal ä¸Šå¢åŠ å±æ€§ `destroyOnClose`

**æœ‰å¯èƒ½ä½ çš„çˆ¶ç»„ä»¶ä¸æ˜¯Modalï¼Œä½†æ€è·¯åº”è¯¥ä¸€æ ·çš„ï¼Œé”€æ¯å­ç»„ä»¶å†é‡æ–°æ¸²æŸ“**

### 8.18

1. å‡½æ•°ç»„ä»¶ä¸­ï¼Œçˆ¶ç»„ä»¶å¦‚ä½•ä½¿ç”¨å­ç»„ä»¶çš„æ–¹æ³•ï¼š

ä½¿ç”¨useImperativeHandleå’ŒforwardRef

https://www.cnblogs.com/yxfboke/p/14837279.html



2. AntD Formç»„ä»¶ä¸­çš„æ•°æ®å¦‚ä½•å›æ˜¾ï¼š

ç”±äºï¼š

![image-20220818153448717](C:\Users\DB\AppData\Roaming\Typora\typora-user-images\image-20220818153448717.png)

è§£æ³•ï¼šåˆ©ç”¨å±æ€§setFieldsValue

https://blog.csdn.net/Welkin_qing/article/details/120353473



3. åˆšæ›´æ”¹å®Œstateå¹¶éä¸èƒ½ç«‹åˆ»æ‹¿åˆ°ï¼Œè¦æ³¨æ„å‰¯ä½œç”¨çš„ä¾èµ–é¡¹ ------- <Product />



### 8.28

stateè‡ªèº«åŠ ä¸€æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ ï¼ˆè¿™æ ·å¯ä»¥æ‹¿åˆ°æœ€æ–°åŠ ä¸€åçš„ç»“æœï¼‰

```javascript
setXXX((state)=>{return state + 1})
```


### 9.26

ä½¿ç”¨Jestæµ‹è¯•å¸¦æœ‰antDçš„ç»„ä»¶æ—¶æŠ¥é”™ã€‚

> TypeError: window.matchMedia is not a function in Jest

èµ·å› ï¼šIf some code uses a method which JSDOM (the DOM implementation used by Jest) hasn't implemented yet, testing it is not easily possible. This is e.g. the case with `window.matchMedia()`. Jest returns `TypeError: window.matchMedia is not a function` and doesn't properly execute the test.

è§£å†³åŠæ³•ï¼š

- æ–¹æ³•ä¸€ï¼š

åˆ›å»ºmock(matchMedia.mock.js)æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»£ç ï¼š

```javascript
global.matchMedia = global.matchMedia || function () {  
    return {
        matches: false,
        addListener: jest.fn(),
        removeListener: jest.fn(),
    };
};
```

åœ¨æµ‹è¯•æ–‡ä»¶ä¸­å¼•å…¥è¯¥mockæ–‡ä»¶

```javascript
import '../../matchMedia.mock';
```

- æ–¹æ³•äºŒï¼š

ç›´æ¥åœ¨æµ‹è¯•æ–‡ä»¶ä¸­mock

```javascript
afterEach(cleanup)
it('should equal to Login', () => {
    Object.defineProperty(window, 'matchMedia', {
        writable: true,
        value: jest.fn().mockImplementation(query => ({
            matches: false,
            media: query,
            onchange: null,
            addListener: jest.fn(), // deprecated
            removeListener: jest.fn(), // deprecated
            addEventListener: jest.fn(),
            removeEventListener: jest.fn(),
            dispatchEvent: jest.fn(),
        })),
    });
    render(<Provider store={store}><Router><Login /></Router></Provider>)
    expect(screen.getByTestId('login')).toHaveTextContent('Login')
})
```



ä½¿ç”¨jestæŠ¥é”™ï¼šâ€œSyntaxError: Unexpected token exportâ€

åŸå› ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒJest ä¸ä¼šè½¬æ¢ node_modulesï¼Œå› ä¸ºå®ƒä»¬åº”è¯¥æ˜¯æœ‰æ•ˆçš„ JavaScript æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œåº“ä½œè€…ç¢°å·§å‡è®¾æ‚¨å°†ç¼–è¯‘ä»–ä»¬çš„æºä»£ç ã€‚æ‰€ä»¥ä½ å¿…é¡»æ˜ç¡®åœ°å‘Šè¯‰ Jestã€‚ä»¥ä¸Š sn-p æ„å‘³ç€ @ngrxã€deck å’Œ ng-dynamic å°†è¢«è½¬æ¢ï¼Œå³ä½¿å®ƒä»¬æ˜¯ node_modulesã€‚

è§£å†³æ–¹æ³•ï¼šhttps://www.likecs.com/ask-563829.html?sc=3300

å¦‚æœä½ ä½¿ç”¨'create-react-app'ï¼Œå®ƒä¸å…è®¸ä½ é€šè¿‡ *package.json* ä¸­çš„ Jest å±æ€§æŒ‡å®š *'transformIgnorePatterns'* p>

æ‚¨å¯ä»¥åœ¨ *package.json* ä¸­ä½¿ç”¨å¦‚ä¸‹ CLI æ¥è¦†ç›–å®ƒï¼Œå®ƒå¯ä»¥å·¥ä½œï¼š

```javascript
"scripts": {
  "test": "react-scripts test --transformIgnorePatterns \"node_modules/(?!your-module-name)/\"",
},
```

toHaveBeenCalledWith

mockimplementæ¨¡æ‹Ÿå®ç°

 æˆ‘ä½¿ç”¨è¿‡

mockResolvedValueOnce





# Auto Test

### 11.23

- æ‹¿åˆ°æ–°é¡¹ç›®åº”è¯¥åšä»€ä¹ˆ?
  - å…ˆçœ‹package.jsonæ–‡ä»¶
- sqliteæ•°æ®åº“å¦‚ä½•åœ¨é¡¹ç›®ä¸­åˆå§‹åŒ–è¡¨ç»“æ„ï¼Ÿ

```shell
åˆ é™¤database/sqlite æ–‡ä»¶
"db:migrate": "npm run typeorm migration:run -- -d ./ormconfig.ts"
npm run db:migrate    //éœ€è¦æ‰§è¡Œormconfig.tsæ–‡ä»¶
```

- sqliteæ•°æ®å¯è§†åŒ–å·¥å…·å¯ç”¨DB Browser for SQLite

```
http://www.sqlitebrowser.org/dl/
```

- JWTç­–ç•¥

```
å¦‚æœJWTç­–ç•¥ä¸ºBearerTokenï¼Œé‚£ä¹ˆPostmanæµ‹è¯•æ—¶éœ€è¦é€‰ä¸­Authorizationå­—æ®µé‡Œçš„Bearerï¼Œè€Œä¸æ˜¯è‡ªå·±åœ¨Headeré‡Œæ‰‹å†™å‰ç¼€
```

- Postmanæµ‹è¯•Postæ¥å£æ—¶ï¼Œéœ€è¦æ³¨æ„raw  ä¸ºJSON è€Œä¸æ˜¯ Textï¼ï¼







pnpm run lint --fixè‡ªåŠ¨ä¿®å¤bugå‘½ä»¤







å­¦ä¼šäº†å¾ˆå¤šå®é™…å¼€å‘æµç¨‹ï¼Œscrumçš„æµç¨‹

ä»ä¸ªäººå¼€å‘çš„ä¹ æƒ¯çŠ¶æ€æ…¢æ…¢è½¬å˜æˆå›¢é˜Ÿåä½œå¼€å‘ï¼Œ

æ‰€ä»¥é¡¹ç›®ä¸Šå¯èƒ½æœ‰äº›



åŒäº‹å‹å¥½ä¸å›¢ç»“ï¼Œ

å¤§å®¶éƒ½æ˜¯å¾ˆè€å¿ƒçš„è§£ç­”ï¼Œå“ªæ€•æ˜¯å¾ˆç®€å•çš„é—®é¢˜

æ‰€ä»¥æˆ‘è§‰å¾—å¤§å®¶å›¢é˜Ÿæ°›å›´è¿˜æ˜¯å¾ˆèæ´½çš„
